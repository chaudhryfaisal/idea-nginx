<h2><span class="mw-headline" id="ssl_verify_depth"> ssl_verify_depth </span></h2>
<table cellspacing="0">
                <tr>
                <th>
            Syntax:
                </th>
                <td>
            <code><strong>ssl_verify_depth</strong> <code><i>number</i></code>;</code><br>
                </td>
                </tr>
            
                <tr>
                <th>
            Default:
                </th>
                <td>
            <pre>ssl_verify_depth 1;</pre>
                </td>
                </tr>
            
                <tr>
                <th>
            Context:
                </th>
                <td>
            <code>stream</code>, <code>server</code><br>
                </td>
                </tr>
            </table><p>This directive appeared in version 1.11.8.
            </p></div><p>
Sets the verification depth in the client certificates chain.
</p>
<a name="variables"></a><center><h4>Embedded Variables</h4></center><p>
The <code>ngx_stream_ssl_module</code> module supports variables
since 1.11.2.
</p> <dl class="compact">
<dt id="var_ssl_cipher"><code>$ssl_cipher</code></dt>
<dd>
returns the name of the cipher used
for an established SSL connection;
</dd>
<dt id="var_ssl_ciphers"><code>$ssl_ciphers</code></dt>
<dd>
returns the list of ciphers supported by the client (1.11.7).
Known ciphers are listed by names, unknown are shown in hexadecimal,
for example:
<blockquote class="example"><pre>
AES128-SHA:AES256-SHA:0x00ff
</pre></blockquote>
<blockquote class="note">
The variable is fully supported only when using OpenSSL version 1.0.2 or higher.
With older versions, the variable is available
only for new sessions and lists only known ciphers.
</blockquote>
</dd>
<dt id="var_ssl_client_cert"><code>$ssl_client_cert</code></dt>
<dd>
returns the client certificate in the PEM format
for an established SSL connection, with each line except the first
prepended with the tab character (1.11.8);
</dd>
<dt id="var_ssl_client_fingerprint"><code>$ssl_client_fingerprint</code></dt>
<dd>
returns the SHA1 fingerprint of the client certificate
for an established SSL connection (1.11.8);
</dd>
<dt id="var_ssl_client_i_dn"><code>$ssl_client_i_dn</code></dt>
<dd>
returns the “issuer DN” string of the client certificate
for an established SSL connection according to
<a href="https://tools.ietf.org/html/rfc2253">RFC 2253</a> (1.11.8);
</dd>
<dt id="var_ssl_client_raw_cert"><code>$ssl_client_raw_cert</code>
</dt>
<dd>
returns the client certificate in the PEM format
for an established SSL connection (1.11.8);
</dd>
<dt id="var_ssl_client_s_dn"><code>$ssl_client_s_dn</code></dt>
<dd>
returns the “subject DN” string of the client certificate
for an established SSL connection according to
<a href="https://tools.ietf.org/html/rfc2253">RFC 2253</a> (1.11.8);
</dd>
<dt id="var_ssl_client_serial"><code>$ssl_client_serial</code></dt>
<dd>
returns the serial number of the client certificate
for an established SSL connection (1.11.8);
</dd>
<dt id="var_ssl_client_v_end"><code>$ssl_client_v_end</code></dt>
<dd>
returns the end date of the client certificate (1.11.8);
</dd>
<dt id="var_ssl_client_v_remain"><code>$ssl_client_v_remain</code></dt>
<dd>
returns the number of days
until the client certificate expires (1.11.8);
</dd>
<dt id="var_ssl_client_v_start"><code>$ssl_client_v_start</code></dt>
<dd>
returns the start date of the client certificate (1.11.8);
</dd>
<dt id="var_ssl_client_verify"><code>$ssl_client_verify</code></dt>
<dd>
returns the result of client certificate verification (1.11.8):
“<code>SUCCESS</code>”, “<code>FAILED:</code><code><i>reason</i></code>”,
and “<code>NONE</code>” if a certificate was not present;
</dd>
<dt id="var_ssl_curves"><code>$ssl_curves</code></dt>
<dd>
returns the list of curves supported by the client (1.11.7).
Known curves are listed by names, unknown are shown in hexadecimal,
for example:
<blockquote class="example"><pre>
0x001d:prime256v1:secp521r1:secp384r1
</pre></blockquote>
<blockquote class="note">
The variable is supported only when using OpenSSL version 1.0.2 or higher.
With older versions, the variable value will be an empty string.
</blockquote>
<blockquote class="note">
The variable is available only for new sessions.
</blockquote>
</dd>
<dt id="var_ssl_protocol"><code>$ssl_protocol</code></dt>
<dd>
returns the protocol of an established SSL connection;
</dd>
<dt id="var_ssl_server_name"><code>$ssl_server_name</code></dt>
<dd>
returns the server name requested through
<a href="http://en.wikipedia.org/wiki/Server_Name_Indication">SNI</a>;
</dd>
<dt id="var_ssl_session_id"><code>$ssl_session_id</code></dt>
<dd>
returns the session identifier of an established SSL connection;
</dd>
<dt id="var_ssl_session_reused"><code>$ssl_session_reused</code></dt>
<dd>
returns “<code>r</code>” if an SSL session was reused,
or “<code>.</code>” otherwise.
</dd>
</dl><p> 
</p>
</div></div></body></html>


<span>[<a href="http://nginx.org/en/docs/stream/ngx_stream_ssl_module.html#ssl_verify_depth">ssl_verify_depth</a>]</span>
