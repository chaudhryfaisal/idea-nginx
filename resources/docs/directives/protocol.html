<h2><span class="mw-headline" id="protocol"> protocol </span></h2>
<table cellspacing="0">
                <tr>
                <th>
            Syntax:
                </th>
                <td>
            <code><strong>protocol</strong> 
  <code>imap</code> |
  <code>pop3</code> |
  <code>smtp</code>;</code><br>
                </td>
                </tr>
            
                <tr>
                <th>
            Default:
                </th>
                <td>
            
            â€”
        
                </td>
                </tr>
            
                <tr>
                <th>
            Context:
                </th>
                <td>
            <code>server</code><br>
                </td>
                </tr>
            </table></div><p>
Sets the protocol for a proxied server.
Supported protocols are
<a href="ngx_mail_imap_module.html">IMAP</a>,
<a href="ngx_mail_pop3_module.html">POP3</a>, and
<a href="ngx_mail_smtp_module.html">SMTP</a>.
</p><p>
If the directive is not set, the protocol can be detected automatically
based on the well-known port specified in the <a href="#listen">listen</a>
directive:
</p> <ul class="compact">
<li>
<code>imap</code>: 143, 993
</li>
<li>
<code>pop3</code>: 110, 995
</li>
<li>
<code>smtp</code>: 25, 587, 465
</li>
</ul><p> 
</p><p>
Unnecessary protocols can be disabled using the
<a href="../configure.html">configuration</a>
parameters <code>--without-mail_imap_module</code>,
<code>--without-mail_pop3_module</code>, and
<code>--without-mail_smtp_module</code>.
</p><a name="resolver"></a>

<span>[<a href="http://nginx.org/en/docs/mail/ngx_mail_core_module.html#protocol">protocol</a>]</span>
